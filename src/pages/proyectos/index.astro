---
import Base from '../../layouts/Base.astro';
import { getCollection } from 'astro:content';
const proyectos = await getCollection('proyectos');
---
<Base title="Proyectos · Portafolio" description="Casos con resultados medibles.">
  <section class="section">
     <div class="text-center grid md:grid mb-8">
          <h1 class="text-4xl md:text-5xl font-bold mb-2">Proyectos</h1>
          <p class="text-neutral-600 mb-2">Problema → solución → resultado. KPI clave en cada caso.</p>
          <a href="https://portafolio-livid-six-71.vercel.app/" class="btn">Go home</a>
      </div>   
    <div class="container grid md:grid-cols-3 gap-6">
      {proyectos.map(({ data }) => (
        <a href={data.url ?? '#'} class="card p-4" target="_blank">
          {data.cover && <img src={data.cover} alt={data.title} class="rounded-xl w-full h-48 object-cover" loading="lazy" />}
          <h3 class="text-white mt-4 text-lg font-semibold">{data.title}</h3>
          {data.kpi && <p class="text-whitetext-xs mt-1">{data.kpi}</p>}
          <p class="text-neutral-600">{data.excerpt}</p>
        </a>
      ))}
    </div>
  </section>
</Base>
